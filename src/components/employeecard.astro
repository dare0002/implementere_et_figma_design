---
import type { ImageMetadata } from "astro";
import { Image } from "astro:assets";
import { Icon } from 'astro-icon/components';

const { employee } = Astro.props;
const { img, name, title, description } = employee;

const images = import.meta.glob<{ default: ImageMetadata }>(
  "/src/assets/images/*.{jpeg,jpg,png,gif}"
);
if (!images[img])
  throw new Error(
    `"${img}" does not exist in glob: "src/assets/images/*.{jpeg,jpg,png,gif}"`
  );
---

<article>
  <div class="image-container">
     <Image src={images[img]()} alt={name} class="employee-img"/>
     <h3 class="title_overlay"> {title}</h3>
  </div>

 <div class="text-container">
  <h2>{name}</h2>
  <p>{description}</p>
  <div class="icons">
  <Icon name="instagram"/>
  <Icon name="facebook"/>
  <Icon name="twitter"/>
   </div>
   </div>

</article>

<style>
  @layer components {
    article {
      color: var(--body-text);
      background: var(--bg-card);
      margin: 1.5rem;
    }

    .employee-img{
      border-radius: 20px;
      width: 100%;
      height: auto;
      display: block;
    }

    .image-container {
      position: relative;
      color: var(--title-card);
    }

    .title_overlay {
      position: absolute;
      bottom: 20px;
      left: 55%;
      transform: translateX(-10%);
      background: #181818;
      border-radius: 1.8rem;
      padding: 0.25rem;
      padding-left: 1.31rem;
      padding-right: 1.31rem;
    }

    .text-container {
      margin-top: 1.56rem;
      text-align: center;
    }

    .text-container p {
      margin-top: 0.81rem;
    }

    /* ICONS ER IKKE VISABLE?????? */

    .icons {
      display: flex;
      justify-content: center;
      align-items: center;
      width: 1.5rem;
      height: 1.5rem;
      gap: 1.8rem;
      margin-top: 1.7rem;
    }

    /* .image-container {
      container: inline-size;
    }

    @container image-container (width > 600px) {
      grid-template-columns: 2fr 3fr;
    } */
  }

</style>
