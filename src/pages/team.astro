---
import BaseLayout from "../layouts/BaseLayout.astro"
import EmployeeSection from '../components/EmployeeSection.astro';
import EmployeeCard from "../components/EmployeeCard.astro";
import Newsletter from "../components/Newsletter.astro";


import { Image } from "astro:assets";
import type { ImageMetadata } from "astro";

const images = import.meta.glob<{ default: ImageMetadata }>('/src/assets/images/*.{jpeg,jpg,png,gif}');
const teamImage = images['/src/assets/images/team-hero.jpg'];

if (!teamImage) {
  throw new Error(`Image "team-hero.jpg" does not exist in glob: "src/assets/images".`);
}

const employeeData = await fetch("https://raw.githubusercontent.com/dare0002/frontend-design/main/resources/json/employees.json").then((res) => res.json());

const firstThreeEmployees = employeeData.slice(0, 3);
---


<BaseLayout title="Team">
	<div class="team-image-section">
		<Image src={teamImage()} alt="Team Image" class="team-image"/>
	</div>
	<h2>Meet Our Great Team</h2>
  <div class="text-container">
    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. enim ad minim veniam, quis nostrud exercitation.</p>
    <button> Join our team</button>
  </div>
	<EmployeeSection data={employeeData}/>
	<Newsletter/>
</BaseLayout>


<style>
	.text-container {
      display: flex;
      flex-direction: row;
      justify-content: space-between;
      gap: 1rem;
    }

	button{
      background: #181818;
      color: #fff;
      line-height: 1.8rem;
      padding: 0.9rem 1.8rem;
      border-radius: 2.6rem;
      cursor: pointer;
      align-items: flex-end;
    }
</style>